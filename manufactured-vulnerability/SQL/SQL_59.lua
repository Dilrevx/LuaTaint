local function execute_sql(sql)
    local result = db:execute(sql)
    return result
end

local function concatenate_input(prefix, user_input)
    return prefix .. user_input
end

local function prepare_sql(user_input)
    return concatenate_input("DELETE FROM users WHERE username = '", user_input .. "'")
end

local function handle_input(input)
    local sql = prepare_sql(input)
    execute_sql(sql)
end

-- 调用示例
handle_input("admin'; DROP TABLE users; --")
