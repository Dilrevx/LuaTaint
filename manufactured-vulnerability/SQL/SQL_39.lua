local sqlite3 = require("lsqlite3")

local function exec(db, query)
    return db:exec(query)
end

local function check_input(input)
    return input
end

local function create_query(input)
    local checked_input = check_input(input)
    return "SELECT * FROM customers WHERE customer_id = '" .. checked_input .. "'"
end

local function get_customer(db, input)
    local query = create_query(input)
    return exec(db, query)
end

-- 调用示例
get_customer(db, "cust123' OR '1'='1")