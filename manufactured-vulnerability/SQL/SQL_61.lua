local function run_sql(sql)
    local result = db:execute(sql)
    return result
end

local function concatenate_input(prefix, user_input)
    return prefix .. user_input
end

local function prepare_sql_query(user_input)
    return concatenate_input("INSERT INTO logs (message) VALUES ('", user_input .. "')")
end

local function log_message(input)
    local sql = prepare_sql_query(input)
    run_sql(sql)
end

-- 调用示例
log_message("test'); DROP TABLE logs; --")
