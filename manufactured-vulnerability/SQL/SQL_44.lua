local mysql = require("luasql.mysql")

local function exec_query(db, query)
    return db:execute(query)
end

local function sanitize_input(input)
    return input
end

local function create_query(input)
    local sanitized_input = sanitize_input(input)
    return "DELETE FROM users WHERE username = '" .. sanitized_input .. "'"
end

local function delete_user(db, user)
    local query = create_query(user)
    return exec_query(db, query)
end

-- 调用示例
delete_user(db, "admin'; DROP TABLE users; --")