local mysql = require("luasql.mysql")

local function run_query(db, query)
    return db:execute(query)
end

local function validate(input)
    return input
end

local function create_query(input)
    local valid_input = validate(input)
    return "SELECT * FROM logs WHERE log_id = '" .. valid_input .. "'"
end

local function get_log(db, input)
    local query = create_query(input)
    return run_query(db, query)
end

-- 调用示例
get_log(db, "log123' OR '1'='1")