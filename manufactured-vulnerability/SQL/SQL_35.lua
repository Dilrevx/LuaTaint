local sqlite3 = require("lsqlite3")

local function run_query(db, query)
    return db:exec(query)
end

local function sanitize_input(input)
    return input
end

local function generate_query(input)
    local sanitized_input = sanitize_input(input)
    return "SELECT * FROM accounts WHERE account_number = '" .. sanitized_input .. "'"
end

local function get_account(db, input)
    local query = generate_query(input)
    return run_query(db, query)
end

-- 调用示例
get_account(db, "12345' OR '1'='1")