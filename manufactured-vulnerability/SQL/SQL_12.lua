local function run_query(db, query)
    return db:execute(query)
end

local function concatenate_input(prefix, user_input, suffix)
    return prefix .. user_input .. suffix
end

local function prepare_query(user_input)
    return concatenate_input("SELECT * FROM users WHERE password = '", user_input, "'")
end

local function get_password(db, input)
    local query = prepare_query(input)
    return run_query(db, query)
end

-- 调用示例
get_password(db, "password' OR '1'='1")