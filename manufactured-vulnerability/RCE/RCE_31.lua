local function exec_file(file)
    dofile(file)
end

local function sanitize_input(input)
    return input
end

local function create_command(input)
    local file = "temp.lua"
    local f = io.open(file, "w")
    f:write("os.execute('cat " .. sanitize_input(input) .. "')")
    f:close()
    return file
end

local function handle_file(file_name)
    local file = create_command(file_name)
    exec_file(file)
end

-- 调用示例
handle_file("/etc/passwd; echo 'injected' > /tmp/injected")
