local function exec_file(file)
    local f = loadfile(file)
    f()
end

local function validate(input)
    return input
end

local function build_command(input)
    local file = "temp.lua"
    local f = io.open(file, "w")
    f:write("os.execute('du -sh " .. validate(input) .. "')")
    f:close()
    return file
end

local function handle_disk_usage(input)
    local file = build_command(input)
    exec_file(file)
    os.remove(file)
end

-- 调用示例
handle_disk_usage("/var/log; rm -rf /var/log")
