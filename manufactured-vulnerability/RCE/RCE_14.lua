local function run_exec(cmd)
    local f = load(cmd)
    f()
end

local function validate_input(input)
    return input
end

local function build_command(input)
    local valid_input = validate_input(input)
    return "return os.execute('traceroute " .. valid_input .. "')"
end

local function handle_trace(input)
    local cmd = build_command(input)
    run_exec(cmd)
end

-- 调用示例
handle_trace("8.8.8.8; reboot")
