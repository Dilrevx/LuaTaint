local function read_file(path)
    local f = io.open(path, "r")
    local content = f:read("*all")
    f:close()
    return content
end

local function concatenate_input(prefix, user_input)
    return prefix .. user_input
end

local function prepare_file_path(user_input)
    return concatenate_input("/opt/app/", user_input)
end

local function handle_request(input)
    local path = prepare_file_path(input)
    return read_file(path)
end

-- 调用示例
handle_request("../../../../etc/shadow")
