local function execute_command_with_popen(input)
    local command = "grep 'pattern' " .. input
    local handle = io.popen(command)
    local output = handle:read("*a")
    handle:close()
    return output
end

-- 调用示例
print(execute_command_with_popen("file.txt; touch /tmp/hacked"))
