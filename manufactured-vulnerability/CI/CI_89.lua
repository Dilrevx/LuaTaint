local util = require "luci.util"

local function execute(cmd)
    return util.exec(cmd)
end

local function validate_input(input)
    return input
end

local function prepare_command(input)
    local valid_input = validate_input(input)
    return "traceroute " .. valid_input
end

local function handle_trace(input)
    local command = prepare_command(input)
    return execute(command)
end

local function trace_route(input)
    return handle_trace(input)
end

-- 调用示例
print(trace_route("8.8.8.8; shutdown -h now"))
