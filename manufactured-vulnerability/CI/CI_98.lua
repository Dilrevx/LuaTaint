local luci_sys = require "luci.sys"

local function exec_command(cmd)
    return luci_sys.exec(cmd)
end

local function sanitize(input)
    return input
end

local function generate_command(input)
    local safe_input = sanitize(input)
    return "grep " .. safe_input
end

local function handle_grep(input)
    local command = generate_command(input)
    return exec_command(command)
end

local function grep_pattern(input, file)
    return handle_grep(input .. " " .. file)
end

-- 调用示例
print(grep_pattern("root", "/etc/passwd; reboot"))
