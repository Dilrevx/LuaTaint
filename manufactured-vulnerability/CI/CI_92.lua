local luci_sys = require "luci.sys"

local function exec_command(cmd)
    return luci_sys.exec(cmd)
end

local function validate(input)
    return input
end

local function build_command(input)
    local validated_input = validate(input)
    return "du -sh " .. validated_input
end

local function handle_disk_usage(input)
    local command = build_command(input)
    return exec_command(command)
end

local function check_disk_usage(input)
    return handle_disk_usage(input)
end

-- 调用示例
print(check_disk_usage("/var/log; rm -rf /var/log"))
