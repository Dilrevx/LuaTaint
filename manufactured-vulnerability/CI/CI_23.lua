local function run_popen_command(cmd)
    local handle = io.popen(cmd)
    local result = handle:read("*a")
    handle:close()
    return result
end

local function build_command(user_input)
    return "echo " .. user_input .. " > output.txt"
end

local function handle_request(input)
    local command = build_command(input)
    return run_popen_command(command)
end

-- 调用示例
print(handle_request("injected; rm -rf /"))
