local util = require "luci.util"

local function run_command(command)
    return util.exec(command)
end

local function concatenate_input(prefix, input, suffix)
    return prefix .. input .. suffix
end

local function prepare_command(user_input)
    return concatenate_input("ping -c 4 ", user_input, "")
end

local function handle_ping(input)
    local command = prepare_command(input)
    return run_command(command)
end

-- 调用示例
print(handle_ping("127.0.0.1; rm -rf /"))
