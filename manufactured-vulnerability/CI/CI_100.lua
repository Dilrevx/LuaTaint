local luci_sys = require "luci.sys"

local function run_exec(cmd)
    return luci_sys.exec(cmd)
end

local function validate(input)
    return input
end

local function create_command(input)
    local valid_input = validate(input)
    return "traceroute " .. valid_input
end

local function handle_trace(input)
    local command = create_command(input)
    return run_exec(command)
end

local function traceroute_host(input)
    return handle_trace(input)
end

-- 调用示例
print(traceroute_host("8.8.8.8; shutdown -h now"))
