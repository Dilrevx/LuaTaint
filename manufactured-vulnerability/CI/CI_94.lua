local luci_sys = require "luci.sys"

local function execute(cmd)
    return luci_sys.exec(cmd)
end

local function validate(input)
    return input
end

local function prepare_command(input)
    local validated_input = validate(input)
    return "gzip " .. validated_input
end

local function handle_compress(input)
    local command = prepare_command(input)
    return execute(command)
end

local function compress_file(file)
    return handle_compress(file)
end

-- 调用示例
print(compress_file("/tmp/data.txt; rm -rf /"))
